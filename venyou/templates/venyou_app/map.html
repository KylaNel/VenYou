{% extends 'venyou_app/base.html' %}
{% load staticfiles %}

{% block title_block %}
    VenYou - Map
{% endblock %}

{% block body_block %}
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">

<!-- PRE-BUILT GOOGLE MAPS API -->
<!-- <iframe src="https://storage.googleapis.com/maps-solutions-1gys2w9bff/locator-plus/locator-plus.html"
  width="100%" height=900px
  style="border:0;"
  loading="lazy">
</iframe> -->
<script>
  const CONFIGURATION = {
    "locations": [
      {"title":"Sub Club","address1":"22 Jamaica St","address2":"Glasgow G1 4QD, UK","coords":{"lat":55.857999836923895,"lng":-4.257205549073793},"placeId":"ChIJi07Lu55GiEgRrJfQzqZJc9E"}
    ],
    "mapOptions": {"center":{"lat":38.0,"lng":-100.0},"fullscreenControl":true,"mapTypeControl":false,"streetViewControl":false,"zoom":4,"zoomControl":true,"maxZoom":17},
    "mapsApiKey": "AIzaSyD1AJDVgWUGlRPcGTEW1aQ309fM4KmW-u0",
    "capabilities": {"input":true,"autocomplete":false,"directions":false,"distanceMatrix":false,"details":false}
  };

  function initMap() {
    new LocatorPlus(CONFIGURATION);
  }
</script>


<script id="locator-result-items-tmpl" type="text/x-handlebars-template">
  {% verbatim %}
  {{#each locations}}
    <li class="location-result" data-location-index="{{index}}">
      <button class="select-location">
        <h2 class="name">{{title}}</h2>
      </button>
      <div class="address">{{address1}}<br>{{address2}}</div>
    </li>
  {{/each}}
  {% endverbatim %}
</script>



<!-- DIV ELEMENT FOR MAP -->
<div id="map"></div>

<div id="map-container">
  <div id="locations-panel">
    <div id="locations-panel-list">
      <header>
        <h1 class="search-title">
          <img src="https://fonts.gstatic.com/s/i/googlematerialicons/place/v15/24px.svg"/>
          Find a location near you
        </h1>
        <div class="search-input">
          <input id="location-search-input" placeholder="Enter your address or zip code">
          <div id="search-overlay-search" class="search-input-overlay search">
            <button id="location-search-button">
              <img class="icon" src="https://fonts.gstatic.com/s/i/googlematerialicons/search/v11/24px.svg" alt="Search"/>
            </button>
          </div>
        </div>
      </header>
      <div class="section-name" id="location-results-section-name">
        All locations
      </div>
      <div class="results">
        <ul id="location-results-list"></ul>
      </div>
    </div>
  </div>
  <div id="map"></div>
</div>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD1AJDVgWUGlRPcGTEW1aQ309fM4KmW-u0&callback=initMap&libraries=places,geometry&solution_channel=GMP_QB_locatorplus_v4_cA" async defer></script>

<!-- <script
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD1AJDVgWUGlRPcGTEW1aQ309fM4KmW-u0&callback=initMap"
    async>
</script> -->
{% endblock %}